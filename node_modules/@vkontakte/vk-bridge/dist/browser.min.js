!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var p in t=arguments[n])Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p]);return e},e.apply(this,arguments)};function t(e,t,n){if(n||2===arguments.length)for(var o,p=0,r=t.length;p<r;p++)!o&&p in t||(o||(o=Array.prototype.slice.call(t,0,p)),o[p]=t[p]);return e.concat(o||Array.prototype.slice.call(t))}function n(t,n,o){var p=function(e){var t={current:0,next:function(){return++this.current}},n={};return{add:function(o,p){var r=null!=p?p:"".concat(t.next(),"_").concat(e);return n[r]=o,r},resolve:function(e,t,o){var p=n[e];p&&(o(t)?p.resolve(t):p.reject(t),n[e]=null)}}}(o);return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(e);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(e,o[p])&&(n[o[p]]=e[o[p]])}return n}(t,["request_id"]);n&&p.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(n,o){return void 0===o&&(o={}),new Promise((function(r,i){var a=p.add({resolve:r,reject:i},o.request_id);t(n,e(e({},o),{request_id:a}))}))}}var o="undefined"!=typeof window,p=Boolean(o&&window.AndroidBridge),r=Boolean(o&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),i=Boolean(o&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),a=o&&!p&&!r,s=a&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),d=a?"message":"VKWebAppEvent",b=t(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile"],a&&!s?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),A=o?window.AndroidBridge:void 0,u=r?window.webkit.messageHandlers:void 0,l=a?parent:void 0;var c,W,V,K,f,w,S;!function(e){e.REWARD="reward",e.INTERSTITIAL="interstitial"}(c||(c={})),function(e){e.RESIZE="resize",e.OVERLAY="overlay"}(W||(W={})),function(e){e.TOP="top",e.BOTTOM="bottom"}(V||(V={})),function(e){e.CAMERA="camera",e.LOCATION="location",e.PHOTO="photo"}(K||(K={})),function(e){e.RU="ru",e.UK="uk",e.UA="ua",e.EN="en",e.BE="be",e.KZ="kz",e.PT="pt",e.ES="es"}(f||(f={})),function(e){e.ADMIN="admin",e.EDITOR="editor",e.MEMBER="member",e.MODER="moder",e.NONE="none"}(w||(w={})),function(e){e.DESKTOP_WEB="desktop_web",e.DESKTOP_WEB_MESSENGER="desktop_web_messenger",e.DESKTOP_APP_MESSENGER="desktop_app_messenger",e.MOBILE_WEB="mobile_web",e.MOBILE_ANDROID="mobile_android",e.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",e.MOBILE_IPHONE="mobile_iphone",e.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",e.MOBILE_IPAD="mobile_ipad"}(S||(S={}));var m=function(e){var o=void 0,s=[],c=Math.random().toString(36).substring(2,5);function W(e){s.push(e)}function V(){return r||p}function K(){return a&&window.parent!==window}function f(){return V()||K()}function w(e){if(r||p)return t([],s,!0).map((function(t){return t.call(null,e)}));var n=null==e?void 0:e.data;if(a&&n){if(i&&"string"==typeof n)try{n=JSON.parse(n)}catch(e){}var d=n.type,b=n.data,A=n.frameId;d&&("VKWebAppSettings"!==d?t([],s,!0).map((function(e){return e({detail:{type:d,data:b}})})):o=A)}}i&&/(android)/i.test(navigator.userAgent)?document.addEventListener(d,w):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(d,w);var S=n((function(t,n){A&&A[t]?A[t](JSON.stringify(n)):u&&u[t]&&"function"==typeof u[t].postMessage?u[t].postMessage(n):i?window.ReactNativeWebView.postMessage(JSON.stringify({handler:t,params:n})):l&&"function"==typeof l.postMessage&&l.postMessage({handler:t,params:n,type:"vk-connect",webFrameId:o,connectVersion:e},"*")}),W,c);return{send:S,sendPromise:S,subscribe:W,unsubscribe:function(e){var t=s.indexOf(e);t>-1&&s.splice(t,1)},supports:function(e){return p?!(!A||"function"!=typeof A[e]):r?!(!u||!u[e]||"function"!=typeof u[e].postMessage):!!a&&b.includes(e)},isWebView:V,isIframe:K,isEmbedded:f,isStandalone:function(){return!f()}}}("2.12.2");window.vkBridge=window.vkConnect=m}();
//# sourceMappingURL=browser.min.js.map
